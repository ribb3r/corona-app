(this.webpackJsonpcases7days=this.webpackJsonpcases7days||[]).push([[0],{140:function(e,t,s){"use strict";s.r(t);var a=s(4),r=s(0),n=s.n(r),i=s(30),c=s.n(i),o=(s(113),s(35)),h=s(36),d=s(47),l=s(44),j=s(153),p=s(93),u=s(74),b=s(155),O=s(160),x=s(156),k=s(50),g=s(161),m=s(157),y=s(154),f=s(159),P=s(54),v=s(94),U=s.n(v),C=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(o.a)(this,s),a=t.call(this,e),P.locale("de-german",U.a),a}return Object(h.a)(s,[{key:"render",value:function(){var e;if(this.props.promiseInProgress)e=Object(a.jsx)(m.a,{size:"huge",children:Object(a.jsx)(y.a,{style:{width:220},children:Object(a.jsxs)(y.a.Header,{children:[Object(a.jsx)(y.a.Line,{}),Object(a.jsx)(y.a.Line,{}),Object(a.jsx)(y.a.Line,{}),Object(a.jsx)(y.a.Line,{}),Object(a.jsx)(y.a.Line,{}),Object(a.jsx)(y.a.Line,{}),Object(a.jsx)(y.a.Line,{})]})})});else{var t="green";this.props.cases7Per100k>=200?t="red":this.props.cases7Per100k>=100?t="orange":this.props.cases7Per100k>=50&&this.props.cases7Per100k<100&&(t="yellow"),e=Object(a.jsxs)(m.a,{size:"huge",color:t,children:[Object(a.jsx)(m.a.Label,{children:this.props.city}),Object(a.jsxs)("p",{children:["Daten vom: ",""===this.props.lastUpdated?"unbekannt":P(this.props.lastUpdated).format("dd. DD.MM.YYYY")]}),Object(a.jsx)(m.a.Value,{children:Math.round(this.props.cases7Per100k)})]})}return Object(a.jsx)(f.a,{raised:!0,style:{minWidth:250,maxWidth:630,height:166},children:e})}}]),s}(n.a.Component),z=s(96),I=s.n(z).a.create({baseURL:"https://api.corona-zahlen.org/"}),w=function(e){return I.get("states/history/hospitalization")},D=function(e){return I.get("districts/".concat(e))},L=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).hospitalizationChange=function(){return a.state.hospitalizationCurrent-a.state.hospitalization7DaysAgo},a.handleClick=function(){a.queryApi()},a.state={hospitalizationCurrent:0,hospitalization7DaysAgo:0,"05111":{lastUpdated:"",cases7Per100k:0},"05113":{lastUpdated:"",cases7Per100k:0},"05114":{lastUpdated:"",cases7Per100k:0},"05162":{lastUpdated:"",cases7Per100k:0},"05122":{lastUpdated:"",cases7Per100k:0}},a}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.queryApi(),setInterval((function(){return e.queryApi()}),216e5)}},{key:"queryApi",value:function(){var e=this;Object.keys(this.state).forEach((function(t){Object(u.trackPromise)(D(t).then((function(e){return e.data})).then((function(s){var a={};a.cases7Per100k=s.data[t].weekIncidence,a.lastUpdated=s.meta.lastUpdate,e.setState(Object(p.a)({},"".concat(t),a))})).catch((function(e){console.error(e)})))})),w(7).then((function(e){return e.data})).then((function(t){e.setState({hospitalizationCurrent:t.data.NW.history[[t.data.NW.history.length-1]].incidence7Days}),e.setState({hospitalization7DaysAgo:t.data.NW.history[[t.data.NW.history.length-8]].incidence7Days})})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e="green";return this.hospitalizationChange>0&&(e="red"),Object(a.jsxs)(j.a,{children:[Object(a.jsx)(b.a,{info:!0,children:Object(a.jsxs)(b.a.Header,{children:["Hospitalisierungsrate NRW: ",this.state.hospitalizationCurrent," (",Object(a.jsx)("font",{color:e,children:this.hospitalizationChange()}),")"]})}),Object(a.jsx)(O.a,{as:"h1",children:"COVID-19-Erkrankung"}),Object(a.jsx)(O.a,{as:"h5",dividing:!0,children:"pro 100.000 Einwohner in den letzten 7 Tagen"}),Object(a.jsx)(x.a,{icon:!0,className:"ui right floated button",title:"aktualisieren",onClick:this.handleClick,children:Object(a.jsx)(k.a,{name:"refresh"})}),Object(a.jsx)("div",{className:"ui centered grid",children:Object(a.jsxs)(g.a,{children:[Object(a.jsx)(g.a.Row,{children:Object(a.jsx)(g.a.Column,{children:Object(a.jsx)(C,{city:"D\xfcsseldorf",cases7Per100k:this.state["05111"].cases7Per100k,lastUpdated:this.state["05111"].lastUpdated,promiseInProgress:this.props.promiseInProgress})})}),Object(a.jsx)(g.a.Row,{children:Object(a.jsx)(g.a.Column,{children:Object(a.jsx)(C,{city:"Essen",cases7Per100k:this.state["05113"].cases7Per100k,lastUpdated:this.state["05113"].lastUpdated,promiseInProgress:this.props.promiseInProgress})})}),Object(a.jsx)(g.a.Row,{children:Object(a.jsx)(g.a.Column,{children:Object(a.jsx)(C,{city:"Krefeld",cases7Per100k:this.state["05114"].cases7Per100k,lastUpdated:this.state["05114"].lastUpdated,promiseInProgress:this.props.promiseInProgress})})}),Object(a.jsx)(g.a.Row,{children:Object(a.jsx)(g.a.Column,{children:Object(a.jsx)(C,{city:"Kreis Neuss",cases7Per100k:this.state["05162"].cases7Per100k,lastUpdated:this.state["05162"].lastUpdated,promiseInProgress:this.props.promiseInProgress})})}),Object(a.jsx)(g.a.Row,{children:Object(a.jsx)(g.a.Column,{children:Object(a.jsx)(C,{city:"Solingen",cases7Per100k:this.state["05122"].cases7Per100k,lastUpdated:this.state["05122"].lastUpdated,promiseInProgress:this.props.promiseInProgress})})})]})})]})}}]),s}(n.a.Component),N=Object(u.promiseTrackerHoc)(L),A=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){return Object(a.jsx)(j.a,{style:{margin:20},children:Object(a.jsx)(N,{})})}}]),s}(n.a.Component);c.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(A,{})}),document.getElementById("root"))}},[[140,1,2]]]);
//# sourceMappingURL=main.ae045570.chunk.js.map