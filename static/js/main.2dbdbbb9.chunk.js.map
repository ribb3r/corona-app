{"version":3,"sources":["component/ValueBox.js","api/covid-19.js","component/ValueBoxGroup.js","component/App.js","index.js"],"names":["ValueBox","props","dayjs","de","mainContent","this","promiseInProgress","Statistic","size","Placeholder","style","width","Header","Line","color","cases7Per100k","Label","city","lastUpdated","format","Value","Math","round","Segment","raised","minWidth","maxWidth","height","React","Component","httpClient","axios","create","baseURL","cityId","get","ValueBoxGroup","handleClick","queryApi","state","setInterval","Object","keys","forEach","trackPromise","api","then","response","data","updatedCity","weekIncidence","meta","lastUpdate","setState","catch","error","console","Container","as","dividing","Button","icon","className","title","onClick","Icon","name","Grid","Row","Column","promiseTrackerHoc","App","margin","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2dbdbbb9.chunk.js","sourcesContent":["import React from \"react\";\nimport { Statistic, Placeholder, Segment } from 'semantic-ui-react'\nimport * as dayjs from 'dayjs'\nimport de from 'dayjs/locale/de'\n\nexport default class ValueBox extends React.Component {\n    constructor(props) {\n      super(props);\n      dayjs.locale('de-german', de)\n    }\n\n    render() {\n      let mainContent;\n      if (this.props.promiseInProgress) {\n        mainContent = <Statistic size='huge'>\n            <Placeholder style={{ width: 220 }}>\n            <Placeholder.Header>\n              <Placeholder.Line />\n              <Placeholder.Line />\n              <Placeholder.Line />\n              <Placeholder.Line />\n              <Placeholder.Line />\n              <Placeholder.Line />\n              <Placeholder.Line />\n            </Placeholder.Header>\n            </Placeholder>\n          </Statistic>\n      } else {\n        let color = 'green';\n        if (this.props.cases7Per100k >= 200) {\n          color = 'red';\n        } else if (this.props.cases7Per100k >= 100) {\n          color = 'orange';\n        } else if (this.props.cases7Per100k >= 50 && this.props.cases7Per100k < 100) {\n          color = 'yellow';\n        }\n\n        mainContent = <Statistic size='huge' color={color}>\n          <Statistic.Label>{this.props.city}</Statistic.Label>\n          <p>Daten vom: {this.props.lastUpdated === \"\" ? \"unbekannt\" : dayjs(this.props.lastUpdated).format('dd. DD.MM.YYYY')}</p>\n          <Statistic.Value>{Math.round(this.props.cases7Per100k)}</Statistic.Value>\n        </Statistic>\n      }\n\n      return (<Segment raised style={{ minWidth: 250, maxWidth: 630, height: 166 }}>{mainContent}</Segment>);\n    }\n}\n","import axios from 'axios'\n\nconst httpClient = axios.create({\n    baseURL: 'https://api.corona-zahlen.org/'\n})\n\nexport default {\n  getCasesForOneWeek: cityId => httpClient.get(`districts/${cityId}`)\n}\n","import React from \"react\";\nimport { trackPromise, promiseTrackerHoc } from 'react-promise-tracker';\nimport { Container, Button, Icon, Grid, Header } from 'semantic-ui-react'\nimport ValueBox from \"./ValueBox\";\nimport api from '../api/covid-19'\n\nclass ValueBoxGroup extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      \"05111\": {\n        lastUpdated: \"\",\n        cases7Per100k: 0\n      },\n      \"05113\": {\n        lastUpdated: \"\",\n        cases7Per100k: 0\n      },\n      \"05114\": {\n        lastUpdated: \"\",\n        cases7Per100k: 0\n      },\n      \"05162\": {\n        lastUpdated: \"\",\n        cases7Per100k: 0\n      },\n      \"05122\": {\n        lastUpdated: \"\",\n        cases7Per100k: 0\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.queryApi();\n    setInterval(() => this.queryApi(), 1000 * 60 * 60 * 6)\n  }\n\n  queryApi() {\n    Object.keys(this.state).forEach ((city) => {\n      trackPromise(\n        api.getCasesForOneWeek(city).then(response => response.data)\n          .then((data) => {\n            let updatedCity = {};\n            updatedCity.cases7Per100k = data.data[city].weekIncidence;\n            updatedCity.lastUpdated = data.meta.lastUpdate;\n            this.setState({ [`${city}`]: updatedCity })\n          })\n          .catch(error => {\n            console.error(error)\n          })\n      );\n  })}\n\n  handleClick = () => {\n    this.queryApi();\n  };\n\n  render() {    \n    return (\n      <Container>\n        <Header as='h1'>COVID-19-Erkrankung</Header>\n        <Header as='h5' dividing>pro 100.000 Einwohner in den letzten 7 Tagen</Header>\n        <Button icon className=\"ui right floated button\" title=\"aktualisieren\" onClick={this.handleClick}>\n          <Icon name=\"refresh\" />\n        </Button>\n        <div className='ui centered grid'>\n          <Grid>\n          <Grid.Row>\n              <Grid.Column>\n                <ValueBox\n                  city=\"DÃ¼sseldorf\"\n                  cases7Per100k={this.state[\"05111\"].cases7Per100k}\n                  lastUpdated={this.state[\"05111\"].lastUpdated}\n                  promiseInProgress={this.props.promiseInProgress}\n                />\n              </Grid.Column>\n            </Grid.Row>\n            <Grid.Row>\n              <Grid.Column>\n                <ValueBox\n                  city=\"Essen\"\n                  cases7Per100k={this.state[\"05113\"].cases7Per100k}\n                  lastUpdated={this.state[\"05113\"].lastUpdated}\n                  promiseInProgress={this.props.promiseInProgress}\n                />\n              </Grid.Column>\n            </Grid.Row>\n            <Grid.Row>\n              <Grid.Column>\n                <ValueBox\n                  city=\"Krefeld\"\n                  cases7Per100k={this.state[\"05114\"].cases7Per100k}\n                  lastUpdated={this.state[\"05114\"].lastUpdated}\n                  promiseInProgress={this.props.promiseInProgress}\n                />\n              </Grid.Column>\n            </Grid.Row>\n            <Grid.Row>\n              <Grid.Column>\n                <ValueBox\n                  city=\"Kreis Neuss\"\n                  cases7Per100k={this.state[\"05162\"].cases7Per100k}\n                  lastUpdated={this.state[\"05162\"].lastUpdated}\n                  promiseInProgress={this.props.promiseInProgress}\n                />\n              </Grid.Column>\n            </Grid.Row>\n            <Grid.Row>\n              <Grid.Column>\n              <ValueBox\n                city=\"Solingen\"\n                cases7Per100k={this.state[\"05122\"].cases7Per100k}\n                lastUpdated={this.state[\"05122\"].lastUpdated}\n                promiseInProgress={this.props.promiseInProgress}\n              />\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n        </div>\n        </Container>\n      )\n    };\n}\n\nexport default promiseTrackerHoc(ValueBoxGroup);\n","import React from \"react\";\nimport { Container } from \"semantic-ui-react\";\nimport ValueBoxGroup from \"./ValueBoxGroup\";\n\nexport default class App extends React.Component {\n    render() {\n      return (\n        <Container style={{ margin: 20 }}>\n          <ValueBoxGroup />\n        </Container>\n      );\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'semantic-ui-css/semantic.min.css'\nimport App from \"./component/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}