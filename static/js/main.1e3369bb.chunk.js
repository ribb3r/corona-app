(this.webpackJsonpcases7days=this.webpackJsonpcases7days||[]).push([[0],{127:function(e,t,s){"use strict";s.r(t);var a=s(4),n=s(0),r=s.n(n),c=s(28),i=s.n(c),d=(s(103),s(33)),o=s(34),l=s(45),j=s(42),h=s(141),u=s(85),p=s(142),b=s(144),O=s(143),f=s(51),k=s(86),x=s.n(k),v=function(e){Object(l.a)(s,e);var t=Object(j.a)(s);function s(e){var a;return Object(d.a)(this,s),a=t.call(this,e),f.locale("de-german",x.a),a}return Object(o.a)(s,[{key:"render",value:function(){var e="green";return this.props.cases7Per100k>=200?e="red":this.props.cases7Per100k>=100&&(e="orange"),Object(a.jsxs)(O.a,{size:"huge",color:e,children:[Object(a.jsx)(O.a.Label,{children:this.props.city}),Object(a.jsxs)("p",{children:["Daten vom: ",""===this.props.lastUpdated?"unbekannt":f(this.props.lastUpdated).format("dd. DD.MM.YYYY")]}),Object(a.jsx)(O.a.Value,{children:Math.round(this.props.cases7Per100k)})]})}}]),s}(r.a.Component),y=s(88),g=s.n(y).a.create({baseURL:"https://public.opendatasoft.com/api/records/1.0/search/"}),m=function(e){return g.get("?dataset=covid-19-germany-landkreise",{params:e})},P=function(e){Object(l.a)(s,e);var t=Object(j.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).handleClick=function(){a.queryApi(),a.setState({refresh:!0}),console.log("refresh")},a.state={essen:{lastUpdated:"",cases7Per100k:0},krefeld:{lastUpdated:"",cases7Per100k:0},solingen:{lastUpdated:"",cases7Per100k:0}},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.queryApi(),setInterval((function(){return e.queryApi()}),216e5)}},{key:"queryApi",value:function(){var e=this;["essen","krefeld","solingen"].forEach((function(t){var s=new URLSearchParams([["q",t]]);m(s).then((function(e){return e.data.records[0].fields})).then((function(s){var a={};a.cases7Per100k=s.cases7_per_100k,a.lastUpdated=s.last_update,e.setState(Object(u.a)({},"".concat(t),a))})).catch((function(e){console.error(e)}))}))}},{key:"render",value:function(){return Object(a.jsxs)(h.a,{children:[Object(a.jsx)(p.a,{as:"h1",children:"COVID-19-Erkrankung"}),Object(a.jsx)(p.a,{as:"h5",dividing:!0,children:"pro 100.000 Einwohner in den letzten 7 Tagen"}),Object(a.jsx)("div",{className:"ui centered grid",children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(b.a.Row,{children:Object(a.jsx)(b.a.Column,{children:Object(a.jsx)(v,{city:"Essen",cases7Per100k:this.state.essen.cases7Per100k,lastUpdated:this.state.essen.lastUpdated})})}),Object(a.jsx)(b.a.Row,{children:Object(a.jsx)(b.a.Column,{children:Object(a.jsx)(v,{city:"Krefeld",cases7Per100k:this.state.krefeld.cases7Per100k,lastUpdated:this.state.krefeld.lastUpdated})})}),Object(a.jsx)(b.a.Row,{children:Object(a.jsx)(b.a.Column,{children:Object(a.jsx)(v,{city:"Solingen",cases7Per100k:this.state.solingen.cases7Per100k,lastUpdated:this.state.solingen.lastUpdated})})})]})})]})}}]),s}(r.a.Component),U=function(e){Object(l.a)(s,e);var t=Object(j.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(a.jsx)(h.a,{style:{margin:20},children:Object(a.jsx)(P,{})})}}]),s}(r.a.Component);i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(U,{})}),document.getElementById("root"))}},[[127,1,2]]]);
//# sourceMappingURL=main.1e3369bb.chunk.js.map