{"version":3,"sources":["component/ValueBox.js","api/covid-19.js","component/ValueBoxGroup.js","component/App.js","index.js"],"names":["ValueBox","props","dayjs","de","color","this","cases7Per100k","Statistic","size","Label","city","lastUpdated","format","Value","Math","round","React","Component","httpClient","axios","create","baseURL","params","get","ValueBoxGroup","handleClick","queryApi","setState","refresh","console","log","state","essen","krefeld","solingen","setInterval","forEach","URLSearchParams","api","then","response","data","records","fields","updatedCity","cases7_per_100k","last_update","catch","error","Container","Header","as","dividing","className","Grid","Row","Column","App","style","margin","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2QAKqBA,E,kDACjB,WAAYC,GAAQ,IAAD,6BACjB,cAAMA,GACNC,SAAa,YAAaC,KAFT,E,qDAMjB,IAAIC,EAAQ,QAMZ,OALIC,KAAKJ,MAAMK,eAAiB,IAC9BF,EAAQ,MACCC,KAAKJ,MAAMK,eAAiB,MACrCF,EAAQ,UAGR,eAACG,EAAA,EAAD,CAAWC,KAAK,OAAOJ,MAAOA,EAA9B,UACE,cAACG,EAAA,EAAUE,MAAX,UAAkBJ,KAAKJ,MAAMS,OAC7B,4CAA0C,KAA3BL,KAAKJ,MAAMU,YAAqB,YAAcT,EAAMG,KAAKJ,MAAMU,aAAaC,OAAO,qBAClG,cAACL,EAAA,EAAUM,MAAX,UAAkBC,KAAKC,MAAMV,KAAKJ,MAAMK,wB,GAjBZU,IAAMC,W,QCHtCC,E,OAAaC,EAAMC,OAAO,CAC5BC,QAAS,4DAGE,EACO,SAAAC,GAAM,OAAIJ,EAAWK,IAAI,uCAAwC,CAAED,YCFpEE,E,kDACnB,WAAYvB,GAAQ,IAAD,8BACjB,cAAMA,IAuCRwB,YAAc,WACZ,EAAKC,WACL,EAAKC,SAAS,CAACC,SAAS,IACxBC,QAAQC,IAAI,YAzCZ,EAAKC,MAAQ,CACXC,MAAO,CACLrB,YAAa,GACbL,cAAe,GAEjB2B,QAAS,CACPtB,YAAa,GACbL,cAAe,GAEjB4B,SAAU,CACRvB,YAAa,GACbL,cAAe,IAbF,E,gEAkBE,IAAD,OAClBD,KAAKqB,WACLS,aAAY,kBAAM,EAAKT,aAAY,S,iCAGzB,IAAD,OACM,CAAC,QAAS,UAAW,YAC7BU,SAAS,SAAC1B,GACf,IAAMY,EAAS,IAAIe,gBAAgB,CAAC,CAAC,IAAK3B,KAC1C4B,EAAuBhB,GAAQiB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,KAAKC,QAAQ,GAAGC,UACxEJ,MAAK,SAACE,GACL,IAAIG,EAAc,GAClBA,EAAYtC,cAAgBmC,EAAKI,gBACjCD,EAAYjC,YAAc8B,EAAKK,YAC/B,EAAKnB,SAAL,yBAAoBjB,GAASkC,OAE9BG,OAAM,SAAAC,GACLnB,QAAQmB,MAAMA,W,+BAYlB,OACE,eAACC,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAQC,GAAG,KAAX,iCACA,cAACD,EAAA,EAAD,CAAQC,GAAG,KAAKC,UAAQ,EAAxB,0DACA,qBAAKC,UAAU,mBAAf,SACE,eAACC,EAAA,EAAD,WACE,cAACA,EAAA,EAAKC,IAAN,UACE,cAACD,EAAA,EAAKE,OAAN,UACE,cAAC,EAAD,CAAU9C,KAAK,QAAQJ,cAAeD,KAAK0B,MAAMC,MAAM1B,cAAeK,YAAaN,KAAK0B,MAAMC,MAAMrB,kBAGxG,cAAC2C,EAAA,EAAKC,IAAN,UACE,cAACD,EAAA,EAAKE,OAAN,UACE,cAAC,EAAD,CAAU9C,KAAK,UAAUJ,cAAeD,KAAK0B,MAAME,QAAQ3B,cAAeK,YAAaN,KAAK0B,MAAME,QAAQtB,kBAG9G,cAAC2C,EAAA,EAAKC,IAAN,UACE,cAACD,EAAA,EAAKE,OAAN,UACA,cAAC,EAAD,CAAU9C,KAAK,WAAWJ,cAAeD,KAAK0B,MAAMG,SAAS5B,cAAeK,YAAaN,KAAK0B,MAAMG,SAASvB,8B,GAlElFK,IAAMC,WCD5BwC,E,uKAEf,OACE,cAACR,EAAA,EAAD,CAAWS,MAAO,CAAEC,OAAQ,IAA5B,SACE,cAAC,EAAD,U,GAJuB3C,IAAMC,WCCvC2C,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.1e3369bb.chunk.js","sourcesContent":["import React from \"react\";\nimport { Statistic } from 'semantic-ui-react'\nimport * as dayjs from 'dayjs'\nimport de from 'dayjs/locale/de'\n\nexport default class ValueBox extends React.Component {\n    constructor(props) {\n      super(props);\n      dayjs.locale('de-german', de)\n    }\n\n    render() {\n      let color = 'green';\n      if (this.props.cases7Per100k >= 200) {\n        color = 'red';\n      } else if (this.props.cases7Per100k >= 100) {\n        color = 'orange';\n      }\n      return (\n        <Statistic size='huge' color={color}>\n          <Statistic.Label>{this.props.city}</Statistic.Label>\n          <p>Daten vom: {this.props.lastUpdated === \"\" ? \"unbekannt\" : dayjs(this.props.lastUpdated).format('dd. DD.MM.YYYY')}</p>\n          <Statistic.Value>{Math.round(this.props.cases7Per100k)}</Statistic.Value>\n        </Statistic>\n      );\n    }\n}\n","import axios from 'axios'\n\nconst httpClient = axios.create({\n    baseURL: 'https://public.opendatasoft.com/api/records/1.0/search/'\n})\n\nexport default {\n  getCasesForOneWeek: params => httpClient.get('?dataset=covid-19-germany-landkreise', { params })\n}\n","import React from \"react\";\nimport { Container, Grid, Header } from 'semantic-ui-react'\nimport ValueBox from \"./ValueBox\";\nimport api from '../api/covid-19'\n\nexport default class ValueBoxGroup extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      essen: {\n        lastUpdated: \"\",\n        cases7Per100k: 0\n      },\n      krefeld: {\n        lastUpdated: \"\",\n        cases7Per100k: 0\n      },\n      solingen: {\n        lastUpdated: \"\",\n        cases7Per100k: 0\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.queryApi();\n    setInterval(() => this.queryApi(), 1000 * 60 * 60 * 6)\n  }\n\n  queryApi() {\n    const cities = [\"essen\", \"krefeld\", \"solingen\"];\n    cities.forEach ((city) => {\n      const params = new URLSearchParams([['q', city]]);\n      api.getCasesForOneWeek(params).then(response => response.data.records[0].fields)\n      .then((data) => {\n        let updatedCity = {};\n        updatedCity.cases7Per100k = data.cases7_per_100k;\n        updatedCity.lastUpdated = data.last_update;\n        this.setState({ [`${city}`]: updatedCity })\n       })\n      .catch(error => {\n        console.error(error)\n      });\n    });\n  }\n\n  handleClick = () => {\n    this.queryApi();\n    this.setState({refresh: true});\n    console.log(\"refresh\");\n  };\n\n  render() {\n    return (\n      <Container>\n          <Header as='h1'>COVID-19-Erkrankung</Header>\n          <Header as='h5' dividing>pro 100.000 Einwohner in den letzten 7 Tagen</Header>\n          <div className='ui centered grid'>\n            <Grid>\n              <Grid.Row>\n                <Grid.Column>\n                  <ValueBox city=\"Essen\" cases7Per100k={this.state.essen.cases7Per100k} lastUpdated={this.state.essen.lastUpdated}/>\n                </Grid.Column>\n              </Grid.Row>\n              <Grid.Row>\n                <Grid.Column>\n                  <ValueBox city=\"Krefeld\" cases7Per100k={this.state.krefeld.cases7Per100k} lastUpdated={this.state.krefeld.lastUpdated}/>\n                </Grid.Column>\n              </Grid.Row>\n              <Grid.Row>\n                <Grid.Column>\n                <ValueBox city=\"Solingen\" cases7Per100k={this.state.solingen.cases7Per100k} lastUpdated={this.state.solingen.lastUpdated}/>\n                </Grid.Column>\n              </Grid.Row>\n            </Grid>\n        </div>\n      </Container>\n    );\n  }\n}\n","import React from \"react\";\nimport { Container } from \"semantic-ui-react\";\nimport ValueBoxGroup from \"./ValueBoxGroup\";\n\nexport default class App extends React.Component {\n    render() {\n      return (\n        <Container style={{ margin: 20 }}>\n          <ValueBoxGroup />\n        </Container>\n      );\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'semantic-ui-css/semantic.min.css'\nimport App from \"./component/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}