(this.webpackJsonpcases7days=this.webpackJsonpcases7days||[]).push([[0],{139:function(e,t,s){"use strict";s.r(t);var a=s(4),n=s(0),r=s.n(n),c=s(29),i=s.n(c),d=(s(112),s(34)),l=s(35),o=s(46),j=s(43),h=s(154),u=s(93),p=s(74),b=s(155),O=s(153),k=s(159),f=s(160),x=s(156),v=s(48),m=s(157),g=s(53),y=s(94),P=s.n(y),U=function(e){Object(o.a)(s,e);var t=Object(j.a)(s);function s(e){var a;return Object(d.a)(this,s),a=t.call(this,e),g.locale("de-german",P.a),a}return Object(l.a)(s,[{key:"render",value:function(){var e="green";return this.props.cases7Per100k>=200?e="red":this.props.cases7Per100k>=100&&(e="orange"),Object(a.jsxs)(m.a,{size:"huge",color:e,children:[Object(a.jsx)(m.a.Label,{children:this.props.city}),Object(a.jsxs)("p",{children:["Daten vom: ",""===this.props.lastUpdated?"unbekannt":g(this.props.lastUpdated).format("dd. DD.MM.YYYY")]}),Object(a.jsx)(m.a.Value,{children:Math.round(this.props.cases7Per100k)})]})}}]),s}(r.a.Component),C=s(96),w=s.n(C).a.create({baseURL:"https://public.opendatasoft.com/api/records/1.0/search/"}),q=function(e){return w.get("?dataset=covid-19-germany-landkreise",{params:e})},D=function(e){Object(o.a)(s,e);var t=Object(j.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).handleClick=function(){a.queryApi()},a.state={essen:{lastUpdated:"",cases7Per100k:0},krefeld:{lastUpdated:"",cases7Per100k:0},solingen:{lastUpdated:"",cases7Per100k:0}},a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.queryApi(),setInterval((function(){return e.queryApi()}),216e5)}},{key:"queryApi",value:function(){var e=this;["essen","krefeld","solingen"].forEach((function(t){var s=new URLSearchParams([["q",t]]);Object(p.trackPromise)(q(s).then((function(e){return e.data.records[0].fields})).then((function(s){var a={};a.cases7Per100k=s.cases7_per_100k,a.lastUpdated=s.last_update,e.setState(Object(u.a)({},"".concat(t),a))})).catch((function(e){console.error(e)})))}))}},{key:"render",value:function(){var e;return e=this.props.promiseInProgress?Object(a.jsx)("div",{children:Object(a.jsx)(b.a,{active:!0,inverted:!0,children:Object(a.jsx)(O.a,{inverted:!0,size:"large",children:"Wird geladen"})})}):Object(a.jsx)("div",{className:"ui centered grid",children:Object(a.jsxs)(k.a,{children:[Object(a.jsx)(k.a.Row,{children:Object(a.jsx)(k.a.Column,{children:Object(a.jsx)(U,{city:"Essen",cases7Per100k:this.state.essen.cases7Per100k,lastUpdated:this.state.essen.lastUpdated})})}),Object(a.jsx)(k.a.Row,{children:Object(a.jsx)(k.a.Column,{children:Object(a.jsx)(U,{city:"Krefeld",cases7Per100k:this.state.krefeld.cases7Per100k,lastUpdated:this.state.krefeld.lastUpdated})})}),Object(a.jsx)(k.a.Row,{children:Object(a.jsx)(k.a.Column,{children:Object(a.jsx)(U,{city:"Solingen",cases7Per100k:this.state.solingen.cases7Per100k,lastUpdated:this.state.solingen.lastUpdated})})})]})}),Object(a.jsxs)(h.a,{children:[Object(a.jsx)(f.a,{as:"h1",children:"COVID-19-Erkrankung"}),Object(a.jsx)(f.a,{as:"h5",dividing:!0,children:"pro 100.000 Einwohner in den letzten 7 Tagen"}),Object(a.jsx)(x.a,{icon:!0,className:"ui right floated button",title:"aktualisieren",onClick:this.handleClick,children:Object(a.jsx)(v.a,{name:"refresh"})}),e]})}}]),s}(r.a.Component),E=Object(p.promiseTrackerHoc)(D),M=function(e){Object(o.a)(s,e);var t=Object(j.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsx)(h.a,{style:{margin:20},children:Object(a.jsx)(E,{})})}}]),s}(r.a.Component);i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(M,{})}),document.getElementById("root"))}},[[139,1,2]]]);
//# sourceMappingURL=main.787edf7a.chunk.js.map