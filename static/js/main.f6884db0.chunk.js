(this.webpackJsonpcases7days=this.webpackJsonpcases7days||[]).push([[0],{105:function(e,t,s){"use strict";s.r(t);var a=s(3),n=s(0),r=s.n(n),c=s(62),i=s.n(c),d=(s(84),s(26)),o=s(27),l=s(33),u=s(32),p=s(108),h=s(63),j=s(107),b=s(109),f=s(36),k=s(64),O=s.n(k),y=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(d.a)(this,s),a=t.call(this,e),f.locale("de-german",O.a),a}return Object(o.a)(s,[{key:"render",value:function(){return Object(a.jsxs)(b.a,{size:"huge",children:[Object(a.jsx)(b.a.Label,{children:this.props.city}),Object(a.jsxs)("p",{children:["Zuletzt aktualisiert: ",""===this.props.lastUpdated?"unbekannt":f(this.props.lastUpdated).format("dd. DD.MM.YYYY")]}),Object(a.jsx)(b.a.Value,{children:Math.round(this.props.cases7Per100k)})]})}}]),s}(r.a.Component),v=s(66),x=s.n(v).a.create({baseURL:"https://public.opendatasoft.com/api/records/1.0/search/"}),U=function(e){return x.get("?dataset=covid-19-germany-landkreise",{params:e})},m=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).handleClick=function(){a.queryApi(),a.setState({refresh:!0}),console.log("refresh")},a.state={essen:{lastUpdated:"",cases7Per100k:0},krefeld:{lastUpdated:"",cases7Per100k:0},solingen:{lastUpdated:"",cases7Per100k:0}},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.queryApi(),setInterval((function(){return e.queryApi()}),216e5)}},{key:"queryApi",value:function(){var e=this;["d\xfcsseldorf","essen","krefeld","solingen"].forEach((function(t){var s=new URLSearchParams([["q",t]]);U(s).then((function(e){return e.data.records[0].fields})).then((function(s){var a={};a.cases7Per100k=s.cases7_per_100k,a.lastUpdated=s.last_update,e.setState(Object(h.a)({},"".concat(t),a))})).catch((function(e){console.error(e)}))}))}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(y,{city:"Essen",cases7Per100k:this.state.essen.cases7Per100k,lastUpdated:this.state.essen.lastUpdated}),Object(a.jsx)(j.a,{}),Object(a.jsx)(y,{city:"Krefeld",cases7Per100k:this.state.krefeld.cases7Per100k,lastUpdated:this.state.krefeld.lastUpdated}),Object(a.jsx)(j.a,{}),Object(a.jsx)(y,{city:"Solingen",cases7Per100k:this.state.solingen.cases7Per100k,lastUpdated:this.state.solingen.lastUpdated})]})}}]),s}(r.a.Component),g=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(a.jsx)(p.a,{style:{margin:20},children:Object(a.jsx)(m,{})})}}]),s}(r.a.Component);i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(g,{})}),document.getElementById("root"))}},[[105,1,2]]]);
//# sourceMappingURL=main.f6884db0.chunk.js.map